var console = console || {}, MEPHYSTO = MEPHYSTO || {
    sw: 0,
    sh: 0,
    mx: 0,
    my: 0,
    ox: 0,
    oy: 0,
    x: 0,
    y: 0,
    vx: 0,
    vy: 0,
    ax: 0,
    ay: 0,
    delay: 10,
    vMultiplier: 3,
    sfx: {
        soundPool: [ new Audio("sfx/squelch.mp3"), new Audio("sfx/guitar_wank.mp3"), new Audio("sfx/plugin.mp3"), new Audio("sfx/click.mp3") ],
        getRandom: function() {
            var foo = MEPHYSTO.sfx.soundPool[Math.floor(Math.random() * this.soundPool.length)];
            return foo;
            return console.log(foo), console.log(foo.currentTime), foo;
        }
    },
    init: function() {
        function checkState(name) {
            return $("body").hasClass(name) ? !0 : void 0;
        }
        console.info("Hi there! Looking to check out how my unminified JS or uncompiled LESS?\nCheck out http://mauricemelchers.nl/js/main.js or http://mauricemelchers.nl/css/main.less\n\nAny more questions? Mail me at contact@mauricemelchers.nl"), 
        checkState("home") && (void 0 === window.DeviceMotionEventr ? $(".main-container").mousemove(MEPHYSTO.onMouseMove) : window.ondevicemotion = MEPHYSTO.onDeviceMotion), 
        $(".btnLightning").hover(function() {
            MEPHYSTO.sfx.getRandom().play();
        });
    },
    onMouseMove: function(e) {
        MEPHYSTO.sw = .5 * window.innerWidth, MEPHYSTO.sh = .5 * window.innerHeight, MEPHYSTO.mx = e.clientX, 
        MEPHYSTO.my = e.clientY, MEPHYSTO.ox = Math.floor((MEPHYSTO.sw - MEPHYSTO.mx) / MEPHYSTO.sw * 100) / -100, 
        MEPHYSTO.oy = Math.floor((MEPHYSTO.sh - MEPHYSTO.my) / MEPHYSTO.sh * 100) / 100, 
        document.getElementById("maincard").style.webkitTransform = "rotateX(" + 15 * MEPHYSTO.oy + "deg) rotateY(" + 20 * MEPHYSTO.ox + "deg) translate3d(0,0,0px)", 
        document.getElementById("maincard").style.MozTransform = "rotateX(" + 15 * MEPHYSTO.oy + "deg) rotateY(" + 20 * MEPHYSTO.ox + "deg) translate3d(0,0,0px)";
    },
    onDeviceMotion: function(e) {
        MEPHYSTO.ax = e.accelerationIncludingGravity.x, MEPHYSTO.ay = e.accelerationIncludingGravity.y, 
        MEPHYSTO.vy = MEPHYSTO.vy + -MEPHYSTO.ay, MEPHYSTO.vx = MEPHYSTO.vx + MEPHYSTO.ax, 
        MEPHYSTO.x = parseInt(5 * MEPHYSTO.ay), MEPHYSTO.y = parseInt(10 * MEPHYSTO.ax), 
        document.getElementById("maincard").style.webkitTransform = "rotateX(" + MEPHYSTO.x + "deg) rotateY(" + MEPHYSTO.y + "deg) translate3d(0,0,0px)", 
        document.getElementById("maincard").style.MozTransform = "rotateX(" + MEPHYSTO.x + "deg) rotateY(" + MEPHYSTO.y + "deg) translate3d(0,0,0px)";
    }
};

window.onload = MEPHYSTO.init;